import { CodeComponent } from '@/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import React, { useState } from 'react'
import { Cropper, Range, View } from '@fold-ui/core'

export const docs = {
    title: 'Cropper',
    subtitle: 'The Cropper component enables users to manipulate image files by cropping, rotating, and zooming.',
    description:
        'Image cropper components have become a common feature in modern web and mobile applications, enabling users to upload and fine-tune images. They are particularly useful for profile images & social media websites.',
}

export const props = [{"tags":{},"filePath":"packages/core/src/cropper/index.ts","description":"","displayName":"Cropper","methods":[],"props":{"defaultRotation":{"defaultValue":null,"description":"","name":"defaultRotation","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"defaultZoom":{"defaultValue":null,"description":"","name":"defaultZoom","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"rotationIncrement":{"defaultValue":null,"description":"","name":"rotationIncrement","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"zoomIncrement":{"defaultValue":null,"description":"","name":"zoomIncrement","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"zoomMax":{"defaultValue":null,"description":"","name":"zoomMax","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"number"},"tags":{}},"customToolbar":{"defaultValue":null,"description":"","name":"customToolbar","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"any"},"tags":{}},"src":{"defaultValue":null,"description":"","name":"src","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":true,"type":{"name":"string"},"tags":{}},"onSave":{"defaultValue":null,"description":"","name":"onSave","declarations":[{"fileName":"fold/packages/core/src/cropper/cropper.tsx","name":"TypeLiteral"}],"required":false,"type":{"name":"(png: string) => void"},"tags":{}}}}]

export const css = [[["--f-cropper-border-radius","var(--f-radius)"],["--f-cropper-background-color","var(--f-color-surface-inverse)"],["--f-cropper-mask-border-radius","var(--f-radius)"],["--f-cropper-mask-opacity","0.75"],["--f-cropper-mask-color","var(--f-color-background)"],["--f-cropper-error-background-color","var(--f-color-surface-inverse)"],["--f-cropper-error-icon-color","var(--f-color-text-on-color)"]]]



<CodeComponent filename="cropper.tsx" code="aW1wb3J0IHsgQ3JvcHBlciB9IGZyb20gIkBmb2xkLXVpL2NvcmUiOwo=" />
```tsx
import { Cropper } from "@fold-ui/core";
```

### Usage

export const Usage = () => (<View width="100%" style={{ maxWidth: 500 }} height={400}>
        <Cropper src="/photos/01.jpg" onSave={(png) => console.log('Saved!')}/>
    </View>);

<div className="story-block">
<Usage />
</div>

<CodeComponent filename="BasicUsage.tsx" code="ZXhwb3J0IGNvbnN0IFVzYWdlID0gKCkgPT4gKAogICAgPFZpZXcKICAgICAgICB3aWR0aD0iMTAwJSIKICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogNTAwIH19CiAgICAgICAgaGVpZ2h0PXs0MDB9PgogICAgICAgIDxDcm9wcGVyCiAgICAgICAgICAgIHNyYz0iL3Bob3Rvcy8wMS5qcGciCiAgICAgICAgICAgIG9uU2F2ZT17KHBuZykgPT4gY29uc29sZS5sb2coJ1NhdmVkIScpfQogICAgICAgIC8+CiAgICA8L1ZpZXc+Cik=" />

```tsx
export const Usage = () => (
    <View
        width="100%"
        style={{ maxWidth: 500 }}
        height={400}>
        <Cropper
            src="/photos/01.jpg"
            onSave={(png) => console.log('Saved!')}
        />
    </View>
)
```
### Custom Toolbar

export const CustomToolbar = () => {
    const [value, setValue] = useState(1);
    return (<View width="100%" style={{ maxWidth: 500 }} height={400}>
            <Cropper defaultZoom={1} src="/photos/01.jpg" onSave={(pngDataUrl) => console.log('Here is the dataUrl!')} customToolbar={({ rotate, zoom, save }) => (<View width="100%">
                        <Range step={1} min={0} max={10} value={value} onChange={(e) => {
                setValue(e.target.value);
                zoom(e.target.value);
            }}/>
                    </View>)}/>
        </View>);
};

<div className="story-block">
<CustomToolbar />
</div>

<CodeComponent filename="CustomToolbar.tsx" code="ZXhwb3J0IGNvbnN0IEN1c3RvbVRvb2xiYXIgPSAoKSA9PiB7CiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKDEpCgogICAgcmV0dXJuICgKICAgICAgICA8VmlldwogICAgICAgICAgICB3aWR0aD0iMTAwJSIKICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGg6IDUwMCB9fQogICAgICAgICAgICBoZWlnaHQ9ezQwMH0+CiAgICAgICAgICAgIDxDcm9wcGVyCiAgICAgICAgICAgICAgICBkZWZhdWx0Wm9vbT17MX0KICAgICAgICAgICAgICAgIHNyYz0iL3Bob3Rvcy8wMS5qcGciCiAgICAgICAgICAgICAgICBvblNhdmU9eyhwbmdEYXRhVXJsKSA9PiBjb25zb2xlLmxvZygnSGVyZSBpcyB0aGUgZGF0YVVybCEnKX0KICAgICAgICAgICAgICAgIGN1c3RvbVRvb2xiYXI9eyh7IHJvdGF0ZSwgem9vbSwgc2F2ZSB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgPFZpZXcgd2lkdGg9IjEwMCUiPgogICAgICAgICAgICAgICAgICAgICAgICA8UmFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9ezF9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49ezB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9ezEwfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbShlLnRhcmdldC52YWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgPC9WaWV3PgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICA8L1ZpZXc+CiAgICApCn0=" />

```tsx
export const CustomToolbar = () => {
    const [value, setValue] = useState(1)

    return (
        <View
            width="100%"
            style={{ maxWidth: 500 }}
            height={400}>
            <Cropper
                defaultZoom={1}
                src="/photos/01.jpg"
                onSave={(pngDataUrl) => console.log('Here is the dataUrl!')}
                customToolbar={({ rotate, zoom, save }) => (
                    <View width="100%">
                        <Range
                            step={1}
                            min={0}
                            max={10}
                            value={value}
                            onChange={(e) => {
                                setValue(e.target.value)
                                zoom(e.target.value)
                            }}
                        />
                    </View>
                )}
            />
        </View>
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>