import { CodeComponent } from '@/components/code.component'
import DocsLayout from '@/layouts/docs.layout'
import ComponentLayout from '@/layouts/component.layout'
import {
    Button,
    Input,
    Stack,
    Text,
    View,
    dispatchPubsub,
    documentObject,
    useCacheValue,
    useCheck,
    useConnection,
    useDragging,
    useEvent,
    useFocus,
    useId,
    useInput,
    useObserver,
    usePubsub,
    useStorage,
    useTabVisibility,
    useTheme,
    useTimeout,
    useTimer,
    useVisibility,
    useWindowResize,
} from '@fold-ui/core'
import React, { useEffect, useRef, useState } from 'react'

export const docs = {
    title: 'Hooks',
    subtitle: 'Fold React Hooks provide various pieces of functionality that can make complex logic simple.',
    description: 'Below are React Hooks that are available to use with Fold.',
}

export const props = []

export const css = []

<CodeComponent filename="hooks.tsx" code="aW1wb3J0IHsKdXNlQ2FjaGVWYWx1ZSwKdXNlQ2hlY2ssCnVzZUNvbm5lY3Rpb24sCnVzZURyYWdnaW5nLAp1c2VFdmVudCwKdXNlRm9jdXMsCnVzZUlkLAp1c2VJbnB1dCwKdXNlT2JzZXJ2ZXIsCnVzZVB1YnN1YiwKdXNlU3RvcmFnZSwKdXNlVGFiVmlzaWJpbGl0eSwKdXNlVGhlbWUsCnVzZVRpbWVvdXQsCnVzZVRpbWVyLAp1c2VWaXNpYmlsaXR5LAp1c2VXaW5kb3dSZXNpemUKfSBmcm9tICdAZm9sZC11aS9jb3JlJwo=" />
```tsx
import {
useCacheValue,
useCheck,
useConnection,
useDragging,
useEvent,
useFocus,
useId,
useInput,
useObserver,
usePubsub,
useStorage,
useTabVisibility,
useTheme,
useTimeout,
useTimer,
useVisibility,
useWindowResize
} from '@fold-ui/core'
```

### Check

> Toggle checked values on & off

export const Check = () => {
    const { check, checked } = useCheck();
    return <Button onClick={check}>{checked ? 'on' : 'off'}</Button>;
};

<div className="story-block">
<Check />
</div>

<CodeComponent filename="Check.tsx" code="ZXhwb3J0IGNvbnN0IENoZWNrID0gKCkgPT4gewogICAgY29uc3QgeyBjaGVjaywgY2hlY2tlZCB9ID0gdXNlQ2hlY2soKQoKICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e2NoZWNrfT57Y2hlY2tlZCA/ICdvbicgOiAnb2ZmJ308L0J1dHRvbj4KfQ==" />

```tsx
export const Check = () => {
    const { check, checked } = useCheck()

    return <Button onClick={check}>{checked ? 'on' : 'off'}</Button>
}
```
### Connection

> Listen for the internet connection state

export const Connection = () => {
    const [connection, setConnection] = useState('online');
    useConnection((online) => {
        setConnection(online);
    });
    return <Text>{connection}</Text>;
};

<div className="story-block">
<Connection />
</div>

<CodeComponent filename="Connection.tsx" code="ZXhwb3J0IGNvbnN0IENvbm5lY3Rpb24gPSAoKSA9PiB7CiAgICBjb25zdCBbY29ubmVjdGlvbiwgc2V0Q29ubmVjdGlvbl0gPSB1c2VTdGF0ZSgnb25saW5lJykKCiAgICB1c2VDb25uZWN0aW9uKChvbmxpbmU6ICdyZXN0b3JlZCcgfCAnb25saW5lJyB8ICdvZmZsaW5lJykgPT4gewogICAgICAgIHNldENvbm5lY3Rpb24ob25saW5lKQogICAgfSkKCiAgICByZXR1cm4gPFRleHQ+e2Nvbm5lY3Rpb259PC9UZXh0Pgp9" />

```tsx
export const Connection = () => {
    const [connection, setConnection] = useState('online')

    useConnection((online: 'restored' | 'online' | 'offline') => {
        setConnection(online)
    })

    return <Text>{connection}</Text>
}
```
### Dragging

> Track drag state

export const Dragging = () => {
    const { startDragging, stopDragging, dragging } = useDragging();
    return (<View p={50} bgToken="surface-strong" onMouseDown={startDragging} onMouseUp={stopDragging}>
            <Text>{dragging ? 'dragging' : 'not dragging'}</Text>
        </View>);
};

<div className="story-block">
<Dragging />
</div>

<CodeComponent filename="Dragging.tsx" code="ZXhwb3J0IGNvbnN0IERyYWdnaW5nID0gKCkgPT4gewogICAgY29uc3QgeyBzdGFydERyYWdnaW5nLCBzdG9wRHJhZ2dpbmcsIGRyYWdnaW5nIH0gPSB1c2VEcmFnZ2luZygpCgogICAgcmV0dXJuICgKICAgICAgICA8VmlldwogICAgICAgICAgICBwPXs1MH0KICAgICAgICAgICAgYmdUb2tlbj0ic3VyZmFjZS1zdHJvbmciCiAgICAgICAgICAgIG9uTW91c2VEb3duPXtzdGFydERyYWdnaW5nfQogICAgICAgICAgICBvbk1vdXNlVXA9e3N0b3BEcmFnZ2luZ30+CiAgICAgICAgICAgIDxUZXh0PntkcmFnZ2luZyA/ICdkcmFnZ2luZycgOiAnbm90IGRyYWdnaW5nJ308L1RleHQ+CiAgICAgICAgPC9WaWV3PgogICAgKQp9" />

```tsx
export const Dragging = () => {
    const { startDragging, stopDragging, dragging } = useDragging()

    return (
        <View
            p={50}
            bgToken="surface-strong"
            onMouseDown={startDragging}
            onMouseUp={stopDragging}>
            <Text>{dragging ? 'dragging' : 'not dragging'}</Text>
        </View>
    )
}
```
### Event

> Listen to window, document or DOM events

export const Event = () => {
    const [position, setPosition] = useState({ x: 0, y: 0 });
    useEvent('mousemove', (e) => setPosition({ x: e.clientX, y: e.clientY }));
    return (<Text>
            Mouse position: {position.x}px, {position.y}px
        </Text>);
};

<div className="story-block">
<Event />
</div>

<CodeComponent filename="Event.tsx" code="ZXhwb3J0IGNvbnN0IEV2ZW50ID0gKCkgPT4gewogICAgY29uc3QgW3Bvc2l0aW9uLCBzZXRQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSkKCiAgICB1c2VFdmVudCgnbW91c2Vtb3ZlJywgKGUpID0+IHNldFBvc2l0aW9uKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSkpCgogICAgcmV0dXJuICgKICAgICAgICA8VGV4dD4KICAgICAgICAgICAgTW91c2UgcG9zaXRpb246IHtwb3NpdGlvbi54fXB4LCB7cG9zaXRpb24ueX1weAogICAgICAgIDwvVGV4dD4KICAgICkKfQ==" />

```tsx
export const Event = () => {
    const [position, setPosition] = useState({ x: 0, y: 0 })

    useEvent('mousemove', (e) => setPosition({ x: e.clientX, y: e.clientY }))

    return (
        <Text>
            Mouse position: {position.x}px, {position.y}px
        </Text>
    )
}
```
### Focus

> Trap focus within a container, tabbing on the last element will move it to the first

export const Focus = () => {
    const [text, setText] = useState('');
    const ref = useRef(null);
    const { trapFocus } = useFocus();
    return (<Stack direction="vertical" spacing={5}>
            <Button onClick={() => trapFocus(ref.current)}>Trap Focus</Button>
            <View ref={ref} column gap={5} width="100%">
                <Input placeholder="Line 1" value={text} onChange={(e) => setText(e.target.value)}/>
                <Input placeholder="Line 2" value={text} onChange={(e) => setText(e.target.value)}/>
                <Input placeholder="Line 3" value={text} onChange={(e) => setText(e.target.value)}/>
                <Input placeholder="Line 4" value={text} onChange={(e) => setText(e.target.value)}/>
            </View>
        </Stack>);
};

<div className="story-block">
<Focus />
</div>

<CodeComponent filename="Focus.tsx" code="ZXhwb3J0IGNvbnN0IEZvY3VzID0gKCkgPT4gewogICAgY29uc3QgW3RleHQsIHNldFRleHRdID0gdXNlU3RhdGUoJycpCiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCkKICAgIGNvbnN0IHsgdHJhcEZvY3VzIH0gPSB1c2VGb2N1cygpCgogICAgcmV0dXJuICgKICAgICAgICA8U3RhY2sKICAgICAgICAgICAgZGlyZWN0aW9uPSJ2ZXJ0aWNhbCIKICAgICAgICAgICAgc3BhY2luZz17NX0+CiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gdHJhcEZvY3VzKHJlZi5jdXJyZW50KX0+VHJhcCBGb2N1czwvQnV0dG9uPgogICAgICAgICAgICA8VmlldwogICAgICAgICAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgICAgICAgICBjb2x1bW4KICAgICAgICAgICAgICAgIGdhcD17NX0KICAgICAgICAgICAgICAgIHdpZHRoPSIxMDAlIj4KICAgICAgICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJMaW5lIDEiCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RleHR9CiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZXh0KGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICA8SW5wdXQKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iTGluZSAyIgogICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZXh0fQogICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGV4dChlLnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgPElucHV0CiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IkxpbmUgMyIKICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGV4dH0KICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRleHQoZS50YXJnZXQudmFsdWUpfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJMaW5lIDQiCiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RleHR9CiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZXh0KGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDwvVmlldz4KICAgICAgICA8L1N0YWNrPgogICAgKQp9" />

```tsx
export const Focus = () => {
    const [text, setText] = useState('')
    const ref = useRef(null)
    const { trapFocus } = useFocus()

    return (
        <Stack
            direction="vertical"
            spacing={5}>
            <Button onClick={() => trapFocus(ref.current)}>Trap Focus</Button>
            <View
                ref={ref}
                column
                gap={5}
                width="100%">
                <Input
                    placeholder="Line 1"
                    value={text}
                    onChange={(e) => setText(e.target.value)}
                />
                <Input
                    placeholder="Line 2"
                    value={text}
                    onChange={(e) => setText(e.target.value)}
                />
                <Input
                    placeholder="Line 3"
                    value={text}
                    onChange={(e) => setText(e.target.value)}
                />
                <Input
                    placeholder="Line 4"
                    value={text}
                    onChange={(e) => setText(e.target.value)}
                />
            </View>
        </Stack>
    )
}
```
### Input Field

> Shorthand hook for input elements

export const InputField = () => {
    const { value, setValue, onChange } = useInput('');
    return (<Input placeholder="Input line" value={value} onChange={onChange}/>);
};

<div className="story-block">
<InputField />
</div>

<CodeComponent filename="InputField.tsx" code="ZXhwb3J0IGNvbnN0IElucHV0RmllbGQgPSAoKSA9PiB7CiAgICBjb25zdCB7IHZhbHVlLCBzZXRWYWx1ZSwgb25DaGFuZ2UgfSA9IHVzZUlucHV0KCcnKQoKICAgIHJldHVybiAoCiAgICAgICAgPElucHV0CiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJJbnB1dCBsaW5lIgogICAgICAgICAgICB2YWx1ZT17dmFsdWV9CiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX0KICAgICAgICAvPgogICAgKQp9" />

```tsx
export const InputField = () => {
    const { value, setValue, onChange } = useInput('')

    return (
        <Input
            placeholder="Input line"
            value={value}
            onChange={onChange}
        />
    )
}
```
### Observer

> Tracks mutations on a DOM element (experimental)

export const Observer = () => {
    const mutationRecord = useObserver(documentObject.documentElement);
    return <Text>Example coming soon</Text>;
};

<div className="story-block">
<Observer />
</div>

<CodeComponent filename="Observer.tsx" code="ZXhwb3J0IGNvbnN0IE9ic2VydmVyID0gKCkgPT4gewogICAgY29uc3QgbXV0YXRpb25SZWNvcmQ6IE11dGF0aW9uUmVjb3JkID0gdXNlT2JzZXJ2ZXIoZG9jdW1lbnRPYmplY3QuZG9jdW1lbnRFbGVtZW50KQogICAgcmV0dXJuIDxUZXh0PkV4YW1wbGUgY29taW5nIHNvb248L1RleHQ+Cn0=" />

```tsx
export const Observer = () => {
    const mutationRecord: MutationRecord = useObserver(documentObject.documentElement)
    return <Text>Example coming soon</Text>
}
```
### Pubsub

> Publish & subscribe to topics application wide

export const Pubsub = () => {
    const [event, setEvent] = useState('Click!');
    usePubsub('hooks', (message) => setEvent(message));
    return <Button onClick={(e) => dispatchPubsub('hooks', 'Hello World')}>{event}</Button>;
};

<div className="story-block">
<Pubsub />
</div>

<CodeComponent filename="Pubsub.tsx" code="ZXhwb3J0IGNvbnN0IFB1YnN1YiA9ICgpID0+IHsKICAgIGNvbnN0IFtldmVudCwgc2V0RXZlbnRdID0gdXNlU3RhdGUoJ0NsaWNrIScpCiAgICB1c2VQdWJzdWIoJ2hvb2tzJywgKG1lc3NhZ2UpID0+IHNldEV2ZW50KG1lc3NhZ2UpKQoKICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiBkaXNwYXRjaFB1YnN1YignaG9va3MnLCAnSGVsbG8gV29ybGQnKX0+e2V2ZW50fTwvQnV0dG9uPgp9" />

```tsx
export const Pubsub = () => {
    const [event, setEvent] = useState('Click!')
    usePubsub('hooks', (message) => setEvent(message))

    return <Button onClick={(e) => dispatchPubsub('hooks', 'Hello World')}>{event}</Button>
}
```
### Storage

> Interact with LocalStorage
`getSafeStorage` returns an empty string if there is no value

export const Storage = () => {
    const { getStorage, getSafeStorage, setStorage, deleteStorage } = useStorage();
    const { isCached, deleteCache, getSafeCache, setCache } = useCacheValue('foobar');
    return <Text>Example coming soon</Text>;
};

<div className="story-block">
<Storage />
</div>

<CodeComponent filename="Storage.tsx" code="ZXhwb3J0IGNvbnN0IFN0b3JhZ2UgPSAoKSA9PiB7CiAgICBjb25zdCB7IGdldFN0b3JhZ2UsIGdldFNhZmVTdG9yYWdlLCBzZXRTdG9yYWdlLCBkZWxldGVTdG9yYWdlIH0gPSB1c2VTdG9yYWdlKCkKICAgIGNvbnN0IHsgaXNDYWNoZWQsIGRlbGV0ZUNhY2hlLCBnZXRTYWZlQ2FjaGUsIHNldENhY2hlIH0gPSB1c2VDYWNoZVZhbHVlKCdmb29iYXInKQoKICAgIHJldHVybiA8VGV4dD5FeGFtcGxlIGNvbWluZyBzb29uPC9UZXh0Pgp9" />

```tsx
export const Storage = () => {
    const { getStorage, getSafeStorage, setStorage, deleteStorage } = useStorage()
    const { isCached, deleteCache, getSafeCache, setCache } = useCacheValue('foobar')

    return <Text>Example coming soon</Text>
}
```
### Tab Visibility

> Listen to tab visibility events (when a tab becomes visible or hidden)

export const TabVisibility = () => {
    const [text, setText] = useState('');
    useTabVisibility((e) => {
        const date = new Date();
        const seconds = date.getSeconds();
        const minutes = date.getMinutes();
        const hour = date.getHours();
        setText(`Time is ${hour}:${minutes}:${seconds}`);
    });
    return <Text>{text || 'Change tabs & come back'}</Text>;
};

<div className="story-block">
<TabVisibility />
</div>

<CodeComponent filename="TabVisibility.tsx" code="ZXhwb3J0IGNvbnN0IFRhYlZpc2liaWxpdHkgPSAoKSA9PiB7CiAgICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZSgnJykKCiAgICB1c2VUYWJWaXNpYmlsaXR5KChlKSA9PiB7CiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgICBjb25zdCBzZWNvbmRzID0gZGF0ZS5nZXRTZWNvbmRzKCkKICAgICAgICBjb25zdCBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCkKICAgICAgICBjb25zdCBob3VyID0gZGF0ZS5nZXRIb3VycygpCgogICAgICAgIHNldFRleHQoYFRpbWUgaXMgJHtob3VyfToke21pbnV0ZXN9OiR7c2Vjb25kc31gKQogICAgfSkKCiAgICByZXR1cm4gPFRleHQ+e3RleHQgfHwgJ0NoYW5nZSB0YWJzICYgY29tZSBiYWNrJ308L1RleHQ+Cn0=" />

```tsx
export const TabVisibility = () => {
    const [text, setText] = useState('')

    useTabVisibility((e) => {
        const date = new Date()
        const seconds = date.getSeconds()
        const minutes = date.getMinutes()
        const hour = date.getHours()

        setText(`Time is ${hour}:${minutes}:${seconds}`)
    })

    return <Text>{text || 'Change tabs & come back'}</Text>
}
```
### Theme

> Fold Theme hook - please see theme documentation for more details

export const Theme = () => {
    const { systemTheme, getToken, getColorToken, setTheme, removeTheme, getSystemTheme, getStoredTheme } = useTheme();
    return <View>You are running {getSystemTheme()} mode.</View>;
};

<div className="story-block">
<Theme />
</div>

<CodeComponent filename="Theme.tsx" code="ZXhwb3J0IGNvbnN0IFRoZW1lID0gKCkgPT4gewogICAgY29uc3QgeyBzeXN0ZW1UaGVtZSwgZ2V0VG9rZW4sIGdldENvbG9yVG9rZW4sIHNldFRoZW1lLCByZW1vdmVUaGVtZSwgZ2V0U3lzdGVtVGhlbWUsIGdldFN0b3JlZFRoZW1lIH0gPSB1c2VUaGVtZSgpCgogICAgcmV0dXJuIDxWaWV3PllvdSBhcmUgcnVubmluZyB7Z2V0U3lzdGVtVGhlbWUoKX0gbW9kZS48L1ZpZXc+Cn0=" />

```tsx
export const Theme = () => {
    const { systemTheme, getToken, getColorToken, setTheme, removeTheme, getSystemTheme, getStoredTheme } = useTheme()

    return <View>You are running {getSystemTheme()} mode.</View>
}
```
### Timeout

> Shorthand wrapper around setTimeout

export const Timeout = () => {
    const [text, setText] = useState('Waiting...');
    useTimeout(() => {
        setText('Waited 2000ms!');
    }, 2000);
    return <Text>{text}</Text>;
};

<div className="story-block">
<Timeout />
</div>

<CodeComponent filename="Timeout.tsx" code="ZXhwb3J0IGNvbnN0IFRpbWVvdXQgPSAoKSA9PiB7CiAgICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZSgnV2FpdGluZy4uLicpCgogICAgdXNlVGltZW91dCgoKSA9PiB7CiAgICAgICAgc2V0VGV4dCgnV2FpdGVkIDIwMDBtcyEnKQogICAgfSwgMjAwMCkKCiAgICByZXR1cm4gPFRleHQ+e3RleHR9PC9UZXh0Pgp9" />

```tsx
export const Timeout = () => {
    const [text, setText] = useState('Waiting...')

    useTimeout(() => {
        setText('Waited 2000ms!')
    }, 2000)

    return <Text>{text}</Text>
}
```
### Timer

> Another Shorthand wrapper around setTimeout, this time with a clearing mechanism

export const Timer = () => {
    const [text, setText] = useState('Click Here');
    const { setTimer, clearTimer } = useTimer();
    const handleClick = (e) => {
        clearTimer();
        setTimer(() => {
            setText('Waited 2000ms!');
        }, 2000);
    };
    return <Button onClick={handleClick}>{text}</Button>;
};

<div className="story-block">
<Timer />
</div>

<CodeComponent filename="Timer.tsx" code="ZXhwb3J0IGNvbnN0IFRpbWVyID0gKCkgPT4gewogICAgY29uc3QgW3RleHQsIHNldFRleHRdID0gdXNlU3RhdGUoJ0NsaWNrIEhlcmUnKQogICAgY29uc3QgeyBzZXRUaW1lciwgY2xlYXJUaW1lciB9ID0gdXNlVGltZXIoKQoKICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGUpID0+IHsKICAgICAgICBjbGVhclRpbWVyKCkKICAgICAgICBzZXRUaW1lcigoKSA9PiB7CiAgICAgICAgICAgIHNldFRleHQoJ1dhaXRlZCAyMDAwbXMhJykKICAgICAgICB9LCAyMDAwKQogICAgfQoKICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT57dGV4dH08L0J1dHRvbj4KfQ==" />

```tsx
export const Timer = () => {
    const [text, setText] = useState('Click Here')
    const { setTimer, clearTimer } = useTimer()

    const handleClick = (e) => {
        clearTimer()
        setTimer(() => {
            setText('Waited 2000ms!')
        }, 2000)
    }

    return <Button onClick={handleClick}>{text}</Button>
}
```
### Ueid

> Generate Unique Enough ID's

export const Ueid = () => {
    const id = useId();
    return <Text>{id}</Text>;
};

<div className="story-block">
<Ueid />
</div>

<CodeComponent filename="Ueid.tsx" code="ZXhwb3J0IGNvbnN0IFVlaWQgPSAoKSA9PiB7CiAgICBjb25zdCBpZCA9IHVzZUlkKCkKICAgIHJldHVybiA8VGV4dD57aWR9PC9UZXh0Pgp9" />

```tsx
export const Ueid = () => {
    const id = useId()
    return <Text>{id}</Text>
}
```
### Visibility

> Toggle visibility states

export const Visibility = () => {
    const { visible, delayedShow, show, hide, toggle } = useVisibility(false);
    return <Button onClick={(e) => (visible ? hide() : delayedShow(2000))}>{visible ? 'Visible' : 'Hidden'}</Button>;
};

<div className="story-block">
<Visibility />
</div>

<CodeComponent filename="Visibility.tsx" code="ZXhwb3J0IGNvbnN0IFZpc2liaWxpdHkgPSAoKSA9PiB7CiAgICBjb25zdCB7IHZpc2libGUsIGRlbGF5ZWRTaG93LCBzaG93LCBoaWRlLCB0b2dnbGUgfSA9IHVzZVZpc2liaWxpdHkoZmFsc2UpCgogICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17KGUpID0+ICh2aXNpYmxlID8gaGlkZSgpIDogZGVsYXllZFNob3coMjAwMCkpfT57dmlzaWJsZSA/ICdWaXNpYmxlJyA6ICdIaWRkZW4nfTwvQnV0dG9uPgp9" />

```tsx
export const Visibility = () => {
    const { visible, delayedShow, show, hide, toggle } = useVisibility(false)

    return <Button onClick={(e) => (visible ? hide() : delayedShow(2000))}>{visible ? 'Visible' : 'Hidden'}</Button>
}
```
### Window Resize

> Listen to window dimensions

export const WindowResize = () => {
    const { width, height, zoom } = useWindowResize();
    return (<Text>
            {width} {height} {zoom}
        </Text>);
};

<div className="story-block">
<WindowResize />
</div>

<CodeComponent filename="WindowResize.tsx" code="ZXhwb3J0IGNvbnN0IFdpbmRvd1Jlc2l6ZSA9ICgpID0+IHsKICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgem9vbSB9ID0gdXNlV2luZG93UmVzaXplKCkKICAgIHJldHVybiAoCiAgICAgICAgPFRleHQ+CiAgICAgICAgICAgIHt3aWR0aH0ge2hlaWdodH0ge3pvb219CiAgICAgICAgPC9UZXh0PgogICAgKQp9" />

```tsx
export const WindowResize = () => {
    const { width, height, zoom } = useWindowResize()
    return (
        <Text>
            {width} {height} {zoom}
        </Text>
    )
}
```

export default ({ children }) => <ComponentLayout docs={docs} props={props} css={css}>{children}</ComponentLayout>